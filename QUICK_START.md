# üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

## –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –∑–∞–ø—É—Å–∫ (Windows)

### 1. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å Python 3.9+
–ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –∑ https://www.python.org/downloads/

### 2. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
```cmd
cd DiiaBackend
pip install -r requirements.txt
```

### 3. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –≤—Å—é —Å–∏—Å—Ç–µ–º—É –æ–¥–Ω–∏–º –∫–ª—ñ–∫–æ–º
–ü–æ–¥–≤—ñ–π–Ω–∏–π –∫–ª—ñ–∫ –Ω–∞ `start_all.bat` –∞–±–æ:
```cmd
start_all.bat
```

–¶–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å:
- ‚úÖ API —Å–µ—Ä–≤–µ—Ä (http://localhost:8000)
- ‚úÖ Telegram –±–æ—Ç
- ‚úÖ –ê–¥–º—ñ–Ω –ø–∞–Ω–µ–ª—å (http://localhost:8080)

### 4. –ü—Ä–æ—Ç–µ—Å—Ç—É–π—Ç–µ —Å–∏—Å—Ç–µ–º—É

#### Telegram –ë–æ—Ç:
1. –ó–Ω–∞–π–¥—ñ—Ç—å –±–æ—Ç–∞: [@AlmostDiiaBot](https://t.me/YourBotUsername)
2. –ù–∞–ø–∏—à—ñ—Ç—å `/start`
3. –ù–∞–ø–∏—à—ñ—Ç—å `/menu`
4. –ü—Ä–æ–π–¥—ñ—Ç—å —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—é:
   - –ü–Ü–ë: –ó–∞—Ä–≤–∞ –ë–æ–≥–¥–∞–Ω –û–ª–µ–≥–æ–≤–∏—á
   - –î–∞—Ç–∞ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è: 07.01.2010
   - –§–æ—Ç–æ 3—Ö4
   - –õ–æ–≥—ñ–Ω (4-16 —Å–∏–º–≤–æ–ª—ñ–≤)
   - –ü–∞—Ä–æ–ª—å (4-16 —Å–∏–º–≤–æ–ª—ñ–≤)

#### iOS –ó–∞—Å—Ç–æ—Å—É–Ω–æ–∫:
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫
2. –í–≤–µ–¥—ñ—Ç—å –ª–æ–≥—ñ–Ω —ñ –ø–∞—Ä–æ–ª—å –∑ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó
3. –ì–æ—Ç–æ–≤–æ! üéâ

#### –ê–¥–º—ñ–Ω –ü–∞–Ω–µ–ª—å:
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ http://localhost:8080
2. –õ–æ–≥—ñ–Ω: `admin`
3. –ü–∞—Ä–æ–ª—å: `admin123`
4. –ö–µ—Ä—É–π—Ç–µ –ø—ñ–¥–ø–∏—Å–∫–∞–º–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

---

## Offline —Ä–µ–∂–∏–º

–ó–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –ø—Ä–∞—Ü—é—î –ë–ï–ó —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—É!

–Ø–∫—â–æ —Å–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π, –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î:
- üîê –õ–æ–∫–∞–ª—å–Ω–æ –∑–±–µ—Ä–µ–∂–µ–Ω—ñ –¥–∞–Ω—ñ
- üíæ –ö–µ—à–æ–≤–∞–Ω—ñ –æ–±–ª—ñ–∫–æ–≤—ñ –¥–∞–Ω—ñ

---

## –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è LAN (Local Network)

### –î–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ñ–π –º–µ—Ä–µ–∂—ñ:

1. –î—ñ–∑–Ω–∞–π—Ç–µ—Å—å –≤–∞—à—É IP –∞–¥—Ä–µ—Å—É:
```cmd
ipconfig
```
–ó–Ω–∞–π–¥—ñ—Ç—å IPv4 –∞–¥—Ä–µ—Å—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: `192.168.1.100`)

2. –£ —Ñ–∞–π–ª—ñ iOS –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É `NetworkManager.swift` –∑–º—ñ–Ω—ñ—Ç—å:
```swift
private let baseURL = "http://192.168.1.100:8000"
```

3. –ü–µ—Ä–µ–∑–±–µ—Ä—ñ—Ç—å IPA –≤ Codemagic

4. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å —â–æ Firewall –¥–æ–∑–≤–æ–ª—è—î –∑'—î–¥–Ω–∞–Ω–Ω—è –Ω–∞ –ø–æ—Ä—Ç—ñ 8000

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
DiiaBackend/
‚îú‚îÄ‚îÄ start_all.bat         # –ó–∞–ø—É—Å–∫ –≤—Å—å–æ–≥–æ –æ–¥–Ω–∏–º –∫–ª—ñ–∫–æ–º
‚îú‚îÄ‚îÄ api/main.py           # FastAPI —Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ bot/bot.py            # Telegram –±–æ—Ç
‚îú‚îÄ‚îÄ admin/index.html      # –ê–¥–º—ñ–Ω –ø–∞–Ω–µ–ª—å
‚îî‚îÄ‚îÄ database/diia.db      # SQLite –±–∞–∑–∞ –¥–∞–Ω–∏—Ö
```

---

## API Endpoints

### POST /api/auth/login
–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
```json
{
  "login": "username",
  "password": "password"
}
```

### GET /api/user/{login}
–û—Ç—Ä–∏–º–∞—Ç–∏ –¥–∞–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

### GET /api/health
–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞–Ω—É —Å–µ—Ä–≤–µ—Ä–∞

### GET /api/admin/users
–°–ø–∏—Å–æ–∫ –≤—Å—ñ—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ (–¥–ª—è –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—ñ)

### POST /api/admin/subscription
–û–Ω–æ–≤–∏—Ç–∏ –ø—ñ–¥–ø–∏—Å–∫—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

---

## Troubleshooting

### –ë–æ—Ç –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ BOT_TOKEN –≤ `.env`
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç –∑'—î–¥–Ω–∞–Ω–Ω—è
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å `bot.py`

### API –Ω–µ –ø—Ä–∞—Ü—é—î
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —á–∏ –ø–æ—Ä—Ç 8000 –Ω–µ –∑–∞–π–Ω—è—Ç–∏–π
- –í—ñ–¥–∫—Ä–∏–π—Ç–µ http://localhost:8000/docs
- –ü–æ–¥–∏–≤—ñ—Ç—å—Å—è –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª—ñ

### –ê–¥–º—ñ–Ω –ø–∞–Ω–µ–ª—å –ø–æ—Ä–æ–∂–Ω—è
- API –º–∞—î –±—É—Ç–∏ –∑–∞–ø—É—â–µ–Ω–∏–π
- –ó–∞—á–µ–∫–∞–π—Ç–µ –ø–æ–∫–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –∑–∞—Ä–µ—î—Å—Ç—Ä—É—é—Ç—å—Å—è
- –û–Ω–æ–≤—ñ—Ç—å —Å—Ç–æ—Ä—ñ–Ω–∫—É (F5)

---

## –ë–µ–∑–ø–µ–∫–∞

‚ö†Ô∏è **–î–ª—è PRODUCTION:**
- –ó–º—ñ–Ω—ñ—Ç—å `ADMIN_PASSWORD` –≤ `.env`
- –î–æ–¥–∞–π—Ç–µ HTTPS
- –ù–∞–ª–∞—à—Ç—É–π—Ç–µ firewall
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ PostgreSQL –∑–∞–º—ñ—Å—Ç—å SQLite
- –î–æ–¥–∞–π—Ç–µ JWT —Ç–æ–∫–µ–Ω–∏
- Rate limiting –¥–ª—è API

---

## –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–°—Ç–≤–æ—Ä–µ–Ω–æ –¥–ª—è DiiaApp iOS üá∫üá¶

